<html>
  <head>
	 
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-image.prod.js"></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-image-aframe.prod.js"></script>
	  <script>
	  AFRAME.registerComponent('playbutton', {
		init: function () {	    
			var button = document.querySelector("#mutebutton");
			var vid_0 = document.querySelector("#vid");
			button.addEventListener("click", function(evt){
				console.log("button clicked")
				if(vid_0.muted==true){
					button.innerHTML="暫停";
					vid_0.play();
					vid_0.muted=false;
					console.log("按了Ａ");
				}else{
					button.innerHTML="播放";
					vid_0.pause();
					vid_0.muted=true;
					console.log("按了Ｂ");
				}
			});
						
		}
	});
	
	
		  
	  
  </script>
  </head>

  <body>
	  
	  <script>
	  	  
// 		  function deviceOrientationListener(event) {
//         var c = document.getElementById("myCanvas");
//         var ctx = c.getContext("2d");

//         ctx.clearRect(0, 0, c.width, c.height);
//         ctx.fillStyle = "#FF7777";
//         ctx.font = "14px Verdana";
//         ctx.fillText("Alpha: " + Math.Round(event.alpha), 10, 20);
//         ctx.beginPath();
//         ctx.moveTo(180, 75);
//         ctx.lineTo(210, 75);
//         ctx.arc(180, 75, 60, 0, event.alpha * Math.PI / 180);
//         ctx.fill();

//         ctx.fillStyle = "#FF6600";
//         ctx.fillText("Beta: " + Math.round(event.beta), 10, 140);
//         ctx.beginPath();
//         ctx.fillRect(180, 150, event.beta, 90);

//         ctx.fillStyle = "#FF0000";
//         ctx.fillText("Gamma: " + Math.round(event.gamma), 10, 270);
//         ctx.beginPath();
//         ctx.fillRect(90, 340, 180, event.gamma);
//       }

      if (window.DeviceOrientationEvent) {
//         window.addEventListener("deviceorientation", deviceOrientationListener);
	              console.log("yes have" + window.orientation);
      } else {
        console.log("Sorry, your browser doesn't support Device Orientation" + window.orientation);
      }
		  

	  
	  </script>
	  <body style='margin : 0px; overflow: hidden; font-family: Monospace;'>
	  <div style='position: absolute; bottom: 10px; right: 30px; width:100%; text-align: center; z-index: 1;'>
	      <button playbutton id="mutebutton" style='position: absolute; bottom: 10px'>
        	  播放
	      </button>
  	</div>
		 
	  
    <a-scene mindar-image="imageTargetSrc: ./targets.mind;" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
        <a-assets>
            <video 
		   preload="auto"
		   id="vid" 
		   autoplay
		   response-type="arraybuffer" 
		   loop
                   crossorigin 
		   webkit-playsinline 
		   muted
		   playsinline
		   src = "https://johnnychiutw.github.io/test91/4.mp4"
		   ></video>
        </a-assets>
      
      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
	   
	<a-entity mindar-image-target="targetIndex: 0" playbutton>
      		<a-video src="#vid" position="0 0 0" height="0.66" width="1" rotation="0 0 0"></a-video>
	</a-entity>
	    
    </a-scene>
  </body>
</html>
